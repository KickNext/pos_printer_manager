/// Абстрактный репозиторий для хранения конфигураций принтеров.
///
/// Предоставляет интерфейс для CRUD-операций над конфигурациями принтеров.
/// Реализации могут использовать различные хранилища: SharedPreferences,
/// SQLite, файловую систему и т.д.
///
/// ## Пример использования:
///
/// ```dart
/// final repository = SharedPrefsPrinterConfigRepository();
///
/// // Загрузка всех конфигураций
/// final configs = await repository.loadConfigs();
///
/// // Поиск по ID
/// final config = await repository.findById('printer-123');
///
/// // Добавление/обновление
/// await repository.upsert(newConfig);
///
/// // Удаление
/// await repository.deleteById('printer-123');
/// ```
library;

import 'package:pos_printer_manager/src/models/printer_config.dart';

/// Абстрактный репозиторий для хранения конфигураций принтеров.
///
/// Определяет контракт для всех реализаций хранилища конфигураций.
abstract class PrinterConfigRepository {
  /// Загружает все конфигурации принтеров.
  ///
  /// Возвращает список всех сохранённых конфигураций.
  /// Возвращает пустой список, если конфигурации отсутствуют.
  Future<List<PrinterConfig>> loadConfigs();

  /// Сохраняет список конфигураций принтеров.
  ///
  /// Полностью заменяет все существующие конфигурации на [configs].
  /// Для частичного обновления используйте [upsert].
  Future<void> saveConfigs(List<PrinterConfig> configs);

  /// Находит конфигурацию принтера по ID.
  ///
  /// [id] — уникальный идентификатор принтера.
  /// Возвращает конфигурацию или null, если принтер не найден.
  Future<PrinterConfig?> findById(String id);

  /// Добавляет или обновляет конфигурацию принтера.
  ///
  /// Если принтер с таким ID существует — обновляет его.
  /// Если не существует — добавляет новый.
  ///
  /// [config] — конфигурация для сохранения.
  Future<void> upsert(PrinterConfig config);

  /// Удаляет конфигурацию принтера по ID.
  ///
  /// [id] — уникальный идентификатор принтера для удаления.
  /// Возвращает true, если принтер был удалён, false если не найден.
  Future<bool> deleteById(String id);

  /// Проверяет существование принтера с указанным ID.
  ///
  /// [id] — уникальный идентификатор принтера.
  /// Возвращает true, если принтер существует.
  Future<bool> exists(String id);

  /// Возвращает количество сохранённых конфигураций.
  Future<int> count();

  /// Очищает все сохранённые конфигурации.
  ///
  /// **Внимание:** Эта операция необратима.
  Future<void> clear();
}
